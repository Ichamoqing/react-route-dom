{"version":3,"sources":["pages/home/children/detail/children/header/header.js","pages/home/children/detail/children/content/other/other.js","pages/home/children/detail/children/content/comment/comment.js","pages/home/children/detail/children/content/content.js","pages/home/children/detail/detail.js"],"names":["header","props","state","IsAttention","className","onClick","this","backAction","bind","src","alt","ref","el","attention","AttentionAction","setState","route","history","goBack","Component","other","otherlist","map","item","key","id","cover","title","Swiper","slidesPerView","freeMode","CommentList","lastId","comment","data","commentDom","ShowDataList","totalCount","ShowRequestData","list","index","avatar","username","createTimeStr","content","ShowReplyList","replies","originalCreatorName","console","log","hasNext","arrayList","length","RequestData","params","parentprops","match","detailId","objectType","substring","getCommentList","detailData","BackAction","DetailList","getDetailData","connect","detailcontent","dispatch","action","requestDetailData","requestCommentList","detail","HeaderShow","scroll","SCROLL","window","IScroll","probeType","scrollY","on","refresh","ScrollAction","y"],"mappings":"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","file":"static/js/5.ecbc68bb.chunk.js","sourcesContent":["import React, { Component} from 'react'\r\nimport './header.scss'\r\nexport default class header extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            IsAttention:true\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"header detailheader\">\r\n                <div className=\"left-header\">\r\n                    <div className=\"left-arrow\" onClick={this.backAction.bind(this)}>\r\n                        <span className=\"iconfont icon-zuojiantouxiangzuoxianxing\"></span>\r\n                    </div>\r\n                    <div className=\"user-img\">\r\n                        <img src=\"https://axhub.im/pro/511b96895ac139d6/images/%E6%96%87%E7%AB%A0%E8%AF%A6%E6%83%85%E9%A1%B5/u3987.png\" alt=\"\"/>\r\n                    </div>\r\n                    <div className=\"user-text\">十点新闻</div>\r\n                </div>\r\n                <div className=\"right-header\">\r\n                    <div className={this.state.IsAttention ? 'attention' : 'attention active'} ref={(el)=>{this.attention = el}}  onClick={this.AttentionAction.bind(this)}>{this.state.IsAttention ? '+ 关注' : '已关注'}</div>\r\n                    <div className=\"transmit\">\r\n                        <span className=\"iconfont icon-fenxiangzhuanfafasongzhijiantouyuanxingshar\"></span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    AttentionAction(){\r\n        this.setState({\r\n            IsAttention:!this.state.IsAttention\r\n        })\r\n    }\r\n    backAction(){\r\n        this.props.route.history.goBack();\r\n    }\r\n    componentDidMount(){\r\n    }\r\n\r\n}\r\n","import React, { Component } from 'react'\r\nimport Swiper from 'swiper'\r\nimport './other.scss'\r\nexport default class other extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n    }\r\n    render() {\r\n        return (\r\n              <div className=\"swiper-title\">\r\n                <div className=\"title\">设计师专访的其他创作</div>\r\n                <div className=\"swiper-container\">\r\n                    <div className=\"swiper-wrapper\">\r\n                        {\r\n                            this.props.otherlist.map(item=>(\r\n                                <div className=\"swiper-slide\" key={item.id}>\r\n                                    <img src={item.cover} alt=\"\"/>\r\n                                    <div className=\"text-content\">\r\n                                        {item.title}\r\n                                    </div>\r\n                                </div>\r\n                            ))\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    componentDidUpdate(){\r\n        const otherSwiper = new Swiper('.swiper-container', {\r\n            slidesPerView: 'auto',\r\n            freeMode: true,\r\n        });\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport './comment.scss'\r\n\r\nlet CommentList = [];\r\nlet lastId = 0;\r\nexport default class comment extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    render() {\r\n        if(this.props.CommentList.data){\r\n            CommentList = [...CommentList,...this.props.CommentList.data];\r\n        }\r\n        let commentDom = null;\r\n        commentDom =  this.ShowDataList(CommentList);\r\n\r\n        return (\r\n            <div className=\"comment\">\r\n                <div className=\"comment-title border-bottom\">\r\n                    {this.props.CommentList.totalCount}条评论\r\n                </div>\r\n                <ul className=\"list\">\r\n                    {commentDom}\r\n                    {this.ShowRequestData(this.props.CommentList)}\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n    ShowDataList(list){\r\n            return list.map((item,index)=>{\r\n                return (\r\n                    <li className=\"item border-bottom\" key={index}>\r\n                        <div className=\"user-img\">\r\n                            <img src={item.avatar} alt=\"\"/>\r\n                        </div>  \r\n                        <div className=\"comment-content\">\r\n                            <p className=\"user-info\">\r\n                                <span>{item.username}</span>\r\n                                {item.createTimeStr}\r\n                            </p>\r\n                            <p className=\"comment-desc\">\r\n                                {item.content}\r\n                            </p>\r\n                            {this.ShowReplyList(item)}\r\n                        </div>\r\n                    </li>\r\n                )\r\n            })\r\n    }\r\n\r\n    ShowReplyList(item){\r\n        if(item.replies.totalCount){\r\n            return item.replies.data.map((item,index)=>{\r\n                return (\r\n                    <div className=\"replay-covers\" key={index}>\r\n                        <div className=\"replay-img\">\r\n                            <img src={item.avatar} alt=\"\"/>\r\n                        </div>\r\n                        <div className=\"replay-content\">\r\n                            <p className=\"replay-info\">\r\n                                {item.username} <span>{item.createTimeStr}</span>\r\n                            </p>\r\n                            <div className=\"replay-desc\">\r\n                                <p>回复:</p><span>{item.originalCreatorName}</span> <i>{item.content}</i>\r\n                            </div>\r\n                        </div>                \r\n                    </div>\r\n                )\r\n            })\r\n        }\r\n        \r\n    }\r\n\r\n    ShowRequestData(data){\r\n        console.log(data);\r\n        if(data.hasNext){\r\n            // lastId = data.data[9].\r\n            let arrayList = data.data;\r\n            console.log(arrayList);\r\n            lastId = arrayList[arrayList.length-1].id;\r\n            return (\r\n                <div className=\"requestdata\" onClick={this.RequestData.bind(this)}>\r\n                    请求更多\r\n                </div>\r\n            )\r\n        }\r\n\r\n    }   \r\n\r\n    RequestData(){\r\n        let params = this.props.parentprops.route.match.params.detailId;\r\n        let objectType = params.substring(params.length-1,params.length);\r\n        let detailId = params.substring(0,params.length-1);\r\n        this.props.parentprops.getCommentList(detailId,objectType,lastId);\r\n    }\r\n}\r\n","import React, { Component} from 'react'\r\nimport 'whatwg-fetch'\r\nimport './content.scss'\r\nimport {requestDetailData,requestCommentList} from './reducer'\r\nimport {connect} from 'react-redux'\r\nimport Other from './other/other'\r\nimport Comment from './comment/comment'\r\nclass content extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            IsAttention:true,\r\n            comment:[],\r\n            detailData:[]\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"description\">\r\n                <div className=\"fail-header\">\r\n                    <span className=\"iconfont icon-zuojiantouxiangzuoxianxing\" onClick={this.BackAction.bind(this)}></span>\r\n                    <span className=\"iconfont icon-fenxiangzhuanfafasongzhijiantouyuanxingshar\"></span>\r\n                </div>\r\n                <div className=\"bgimg\">\r\n                    <img src=\"https://axhub.im/pro/511b96895ac139d6/images/%E6%96%87%E7%AB%A0%E8%AF%A6%E6%83%85%E9%A1%B5/u3613.jpg\" alt=\"\"/>\r\n                </div>\r\n                <div className=\"detail-content\">\r\n                    <div className=\"context-title\">\r\n                        一大波好玩活动等你来“打卡”\r\n                    </div>\r\n                    <div className=\"context-detail border-bottom\">\r\n                        <div className=\"user-desc\">\r\n                            <div className=\"user-img\">\r\n                                <img src=\"https://axhub.im/pro/511b96895ac139d6/images/%E6%96%87%E7%AB%A0%E8%AF%A6%E6%83%85%E9%A1%B5/u3621.png\" alt=\"\"/>\r\n                            </div>\r\n                            <div className=\"user-info\">\r\n                                <p>十点新闻</p>\r\n                                <p>2018/05/06 10:56:56</p>\r\n                            </div>\r\n                        </div>\r\n                        <div className={this.state.IsAttention ? 'attention' : 'attention active'} ref={this.attention}  onClick={this.AttentionAction.bind(this)}>{this.state.IsAttention ? '+ 关注' : '已关注'}</div>\r\n                    </div>\r\n                    <div className=\"maincontent\">\r\n                        <p className=\"title-desc\">\r\n                            瑞虹天地月亮湾L1\r\n                            既能买家具又能吃美食，还有这种跨界骚操作？集家居和餐饮于一体的Minderlands™就做到啦~\r\n                        </p>\r\n                        <p className=\"img-desc\">\r\n                            <img src=\"https://axhub.im/pro/511b96895ac139d6/images/%E6%96%87%E7%AB%A0%E8%AF%A6%E6%83%85%E9%A1%B5/u3630.png\" alt=\"\"/>\r\n                        </p>\r\n                    </div>\r\n                    <div className=\"maincontent\">\r\n                        <p className=\"title-desc\">\r\n                            瑞虹天地月亮湾L1\r\n                            既能买家具又能吃美食，还有这种跨界骚操作？集家居和餐饮于一体的Minderlands™就做到啦~\r\n                        </p>\r\n                        <p className=\"img-desc\">\r\n                            <img src=\"https://axhub.im/pro/511b96895ac139d6/images/%E6%96%87%E7%AB%A0%E8%AF%A6%E6%83%85%E9%A1%B5/u3632.png\" alt=\"\"/>\r\n                        </p>\r\n                    </div>\r\n                    <div className=\"maincontent\">\r\n                        <p className=\"title-desc\">\r\n                            因为直接合作和大量采购，Minderlands™会有更多贴心实惠的价格！（此处鼓掌！）\r\n                        </p>\r\n                        <p className=\"img-desc\">\r\n                            <img src=\"https://axhub.im/pro/511b96895ac139d6/images/%E6%96%87%E7%AB%A0%E8%AF%A6%E6%83%85%E9%A1%B5/u3634.png\" alt=\"\"/>\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n                <Other otherlist={[...this.props.DetailList]}/>\r\n                <Comment CommentList={{...this.props.CommentList}} parentprops={this.props}/>\r\n            </div>\r\n        )\r\n    }\r\n    AttentionAction(){\r\n        \r\n        this.setState({\r\n            IsAttention:!this.state.IsAttention\r\n        })\r\n    }\r\n    BackAction(){\r\n        this.props.route.history.goBack();\r\n    }\r\n    componentDidMount(){\r\n        let params = this.props.route.match.params.detailId;\r\n        let objectType = params.substring(params.length-1,params.length);\r\n        let detailId = params.substring(0,params.length-1);\r\n        this.props.getDetailData(detailId,objectType);\r\n        this.props.getCommentList(detailId,objectType,0);\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state)=>{\r\n    return {\r\n        DetailList: state.detailcontent.DetailList,\r\n        CommentList:state.detailcontent.CommentList,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch)=>{\r\n    return {\r\n      getDetailData(detailId,objectType){\r\n        let action = requestDetailData(detailId,objectType);\r\n        dispatch(action);\r\n      },\r\n      getCommentList(detailId,objectType,lastId){\r\n          let action = requestCommentList(detailId,objectType,lastId);\r\n          dispatch(action);\r\n      }\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(content);\r\n// export default content;","import React, { Component} from 'react'\r\nimport './detail.scss'\r\nimport Header from './children/header/header'\r\nimport Content from './children/content/content'\r\nexport default class detail extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={\r\n            HeaderShow:false,\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"pages\">\r\n                {this.state.HeaderShow ? <Header route={this.props}/> : ''} \r\n                <div className=\"content subpages\" ref={(el)=>{this.scroll=el}}>\r\n                    <div className=\"wrap\">\r\n                        <Content route={this.props}/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    componentDidMount(){\r\n        this.SCROLL = new window.IScroll(this.scroll, {\r\n            probeType: 3,\r\n            scrollY:true,\r\n        })\r\n        this.SCROLL.on('beforeScrollStart', ()=>{\r\n            this.SCROLL.refresh();\r\n        });\r\n        this.ScrollAction();\r\n    }\r\n    ScrollAction(){\r\n        this.SCROLL.on('scroll',()=>{\r\n            if(this.SCROLL.y < -180){\r\n                this.setState({\r\n                    HeaderShow:true\r\n                })\r\n            } else{\r\n                this.setState({\r\n                    HeaderShow:false\r\n                })\r\n            }\r\n        })\r\n        this.SCROLL.on('scrollend',()=>{\r\n            if(this.SCROLL.y < -180){\r\n                this.setState({\r\n                    HeaderShow:true\r\n                })\r\n            } else{\r\n                this.setState({\r\n                    HeaderShow:false\r\n                })\r\n            }\r\n        })\r\n    }\r\n}\r\n"],"sourceRoot":""}