{"version":3,"sources":["pages/message/message/children/header/header.js","pages/message/message/children/content/content.js","pages/message/message/children/article/article.js","pages/message/message/message.js"],"names":["header","props","state","activeType","className","this","onClick","ClickAction","bind","BackAction","pramas","typeAction","setState","console","log","history","goBack","Component","content","createInfoList","Dom","length","map","item","key","id","pushDetail","type","author","username","title","src","cover","alt","liketimes","ref","el","IScroll","SCroll","window","probeType","scrollY","on","refresh","personId","match","params","uid","push","article","avatar_path","relative_time","img","commentnum","message","Com","Content","Article","typeClickAction","substring","getcreateInfoData","page","connect","messagecontent","createInfo","dispatch","action","requestCreateData"],"mappings":"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","file":"static/js/7.b3329eb6.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport './header.scss'\r\nexport default class header extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            activeType:0,\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"header\">\r\n                <li className={this.state.activeType === 0 ? 'active' : ''} onClick={\r\n                    this.ClickAction.bind(this,0)\r\n                }>动态</li>\r\n                <li className={this.state.activeType === 2 ? 'active' : ''} onClick={\r\n                    this.ClickAction.bind(this,2)\r\n                }>文章</li>\r\n                <span className=\"iconfont icon-zuojiantouxiangzuoxianxing backicon\" onClick={\r\n                    this.BackAction.bind(this)\r\n                }></span>\r\n            </div>\r\n        )\r\n    }\r\n    ClickAction(pramas){\r\n        // 点击选中动态\r\n        if(pramas===0 && this.state.activeType!==pramas){\r\n            this.props.typeAction(pramas);\r\n            this.setState({\r\n                activeType:0,\r\n            })\r\n        // 点击选中文章\r\n        } else if(pramas===2 && this.state.activeType!==pramas){\r\n            this.props.typeAction(pramas);\r\n            this.setState({\r\n                activeType:2,\r\n            })\r\n        }\r\n    }   \r\n    BackAction(){\r\n        console.log(this.props.props.history.goBack());\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport './content.scss'\r\nexport default class content extends Component {\r\n    render() {\r\n        let createInfoList = this.props.props.createInfoList;\r\n        console.log(createInfoList);\r\n        console.log('render');\r\n        let Dom = '';\r\n        if(createInfoList.length){\r\n            Dom = createInfoList.map(item=>{\r\n                return (\r\n                    <li className=\"message-list\" key={item.id} onClick={this.pushDetail.bind(this,item.id,item.type)}>\r\n                        <p>{item.author.username}</p>\r\n                        <p className=\"person-from\">\r\n                            <span>19小时前</span>\r\n                            <span>来自</span>\r\n                        </p>\r\n                        <p className=\"personal_abstract\">\r\n                            {item.title}\r\n                        </p>\r\n                        <div className=\"groundcoverImg\">\r\n                            <img src={item.cover} alt=\"\"/>\r\n                        </div>\r\n                        <p className=\"groundTitle\">\r\n                            {item.title}\r\n                        </p>\r\n                        <div className=\"personal_start_bottom\">\r\n                            <span className=\"iconfont icon-qunzu\"></span>\r\n                            <i className=\"total_number\">{item.liketimes}</i>\r\n                            <span className=\"iconfont icon-xinxi\"></span>\r\n                            <i className=\"total_number\">7</i>\r\n                            <span className=\"iconfont icon-fenxiangzhuanfafasongzhijiantouyuanxingshar\"></span>\r\n                        </div>\r\n                    </li>\r\n                )\r\n            })\r\n\r\n\r\n        }\r\n        return (\r\n            <div className=\"content message\" ref={(el)=>{this.IScroll = el}}>\r\n                <div className=\"wrap\">\r\n                    <ul className=\"message-item\">\r\n                        {Dom}\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    componentDidMount(){\r\n        this.SCroll = new window.IScroll(this.IScroll, {\r\n            probeType: 3,\r\n            scrollY:true,\r\n        })\r\n        this.SCroll.on('beforeScrollStart', ()=>{\r\n            this.SCroll.refresh();\r\n        });\r\n    }\r\n    pushDetail(id,type){\r\n        console.log(this.props);\r\n        let personId = this.props.props.match.params.uid;\r\n        let params = id+''+type;\r\n        console.log(params);\r\n        this.props.props.history.push(`/mine/message/${personId}/detail/${params}`);\r\n    }\r\n\r\n}\r\n\r\n","import React, { Component } from 'react'\r\nimport './article.scss'\r\n\r\nexport default class article extends Component {\r\n    render() {\r\n        let createInfoList = this.props.props.createInfoList;\r\n        console.log(createInfoList);\r\n        console.log(\"render\");\r\n        let Dom = '';\r\n        if(createInfoList.length){\r\n            Dom = createInfoList.map(item=>{\r\n                return (\r\n                    <li className=\"article-item\" key={item.id} onClick={this.pushDetail.bind(this,item.id,1)}>\r\n                        <div className=\"articalBar\">\r\n                            <div className=\"articalBar_top\">\r\n                        <div className=\"box_wrap\">\r\n                            <img src={item.author.avatar_path} alt=\"\"/>\r\n                        </div>\r\n                        <span className=\"top_name\">{item.author.username}</span>\r\n                        <span className=\"top_time\">{item.relative_time}</span>\r\n                    </div>\r\n                    <div className=\"imgBox_more_map\">\r\n                        <div className=\"imgBox_more_map_title\">\r\n                            {item.title}\r\n                        </div>\r\n                        <ul className=\"imgBox_more_map_ul\">\r\n                            <li className=\"imgBox_more_map_li\">\r\n                                <img src={item.img[0]} alt=\"\"/>\r\n                            </li>\r\n                            <li className=\"imgBox_more_map_li\">\r\n                                <img src={item.img[1]} alt=\"\"/>\r\n                            </li>\r\n                            <li className=\"imgBox_more_map_li\">\r\n                                <img src={item.img[2]} alt=\"\"/>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                    <div className=\"personal_start_bottom\">\r\n                        <span className=\"iconfont icon-qunzu\"></span>\r\n                        <i className=\"total_number\">{item.commentnum}</i>\r\n                        <span className=\"iconfont icon-xinxi\"></span>\r\n                        <i className=\"total_number\">7</i>\r\n                        <span className=\"iconfont icon-fenxiangzhuanfafasongzhijiantouyuanxingshar\"></span>\r\n                    </div>\r\n                </div>\r\n            </li>)\r\n        })\r\n        }\r\n\r\n        return (\r\n            <div className=\"content message\" ref={(el)=>{this.IScroll = el}}>\r\n                <div className=\"wrap\">\r\n                    <ul className=\"article-list\">\r\n                        {Dom}\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    pushDetail(id,type){\r\n        console.log(this.props);\r\n        let personId = this.props.props.match.params.uid;\r\n        let params = id+''+type;\r\n        console.log(params);\r\n        this.props.props.history.push(`/mine/message/${personId}/detail/${params}`);\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.SCroll = new window.IScroll(this.IScroll, {\r\n            probeType: 3,\r\n            scrollY:true,\r\n        })\r\n        this.SCroll.on('beforeScrollStart', ()=>{\r\n            this.SCroll.refresh();\r\n        });\r\n    }\r\n}\r\n\r\n","import React, { Component } from 'react'\r\nimport Header from './children/header/header'\r\nimport Content from './children/content/content'\r\nimport Article from './children/article/article'\r\nimport {connect} from 'react-redux'\r\nimport {requestCreateData} from './reducer'\r\nimport './style.scss'\r\n\r\nlet activeType = 0;\r\nclass message extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    render(){\r\n        console.log('render.....');\r\n        let Com = null;\r\n        const type = activeType;\r\n            switch (type) {\r\n            case 0:\r\n                Com =  Content\r\n                break;\r\n            case 2:\r\n                Com =  Article\r\n                break;\r\n            default:\r\n                break;\r\n            }\r\n        return (\r\n            <div className=\"pages\">\r\n                <Header typeAction={this.typeClickAction.bind(this)} props={this.props}/>\r\n                <Com props={this.props}/>\r\n            </div>\r\n        )\r\n    }\r\n    typeClickAction(type){\r\n        console.log(1);\r\n        console.log(type);\r\n        activeType = type;\r\n        let params = this.props.match.params.uid;\r\n        let id = params.substring(0,params.length-1);\r\n        this.props.getcreateInfoData({\r\n            uid:id,\r\n            type:type,\r\n            page:1\r\n        });\r\n    }\r\n    componentDidMount(){\r\n        let params = this.props.match.params.uid;\r\n        let id = params.substring(0,params.length-1);\r\n        let type = params.substring(params.length-1,params.length);\r\n        console.log(id,type);\r\n        this.props.getcreateInfoData({\r\n            uid:id,\r\n            type:type,\r\n            page:1\r\n        });\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state)=>{\r\n    return {\r\n        createInfoList: state.messagecontent.createInfo,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch)=>{\r\n    return {\r\n      async getcreateInfoData(params){\r\n        let action = requestCreateData(params);\r\n        await dispatch(action);\r\n      },\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(message);"],"sourceRoot":""}